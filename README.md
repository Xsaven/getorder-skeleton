# Installation
To install the skeleton, you can use the following command:
```bash
curl -fsSL 'https://raw.githubusercontent.com/Xsaven/getorder-skeleton/master/install.sh' | \
  NODE_NAME=my-node \
  APP_URL=https://my-node.dev \
  DB_USERNAME=root \
  DB_PASSWORD=root \
  APP_URL_PROD=https://my-node.getorder.biz \
  DB_USERNAME_PROD= \
  DB_PASSWORD_PROD= \
  JWT_SECRET=QWERTYSECRET \
  bash
```

# Доступні Composer-скрипти
| Скрипт       | Опис                                                                                                                                                                                                                                                     |
| ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `dev`        | Запускає одночасно кілька процесів: локальний сервер (`php artisan serve`), перегляд логів через [Laravel Pail](https://github.com/laravel/pail), та фронтенд дев-сервер (`npm run dev`) за допомогою `npx concurrently`. Зручно для локальної розробки. |
| `test`       | Очищає кеш конфігурацій і запускає юніт-тести через `php artisan test`.                                                                                                                                                                                  |
| `arch-test`  | Запускає архітектурні тести через Pest з групою `arch`.                                                                                                                                                                                                  |
| `pint`       | Запускає Laravel Pint з кастомним конфігом (`vendor/getorder/core/pint.json`) для автоформатування коду.                                                                                                                                                 |
| `pint-test`  | Запускає Pint у тестовому режимі, щоб перевірити відповідність коду стилю без змін.                                                                                                                                                                      |
| `analyse`    | Запускає PHPStan на максимально строгому рівні з необмеженим лімітом пам’яті для аналізу якості коду.                                                                                                                                                    |
| `rector`     | Запускає Rector з очищенням кешу — оновлення коду згідно з сучасними стандартами PHP.                                                                                                                                                                    |
| `rector:dry` | Те саме, що й `rector`, але в dry-run режимі — покаже, які зміни будуть внесені, без їх фактичного застосування.                                                                                                                                         |

# 🧪 Інструкція перевірки перед комітом або мердж-реквестом
Перед тим як робити коміт у master або створювати merge request, обов’язково пройди всі етапи перевірки якості коду:

## 1️⃣ 🔍 Архітектурні тести
```Bash
composer arch-test
```
* ✅ Якщо все чисто — йдемо далі.
* ❌ Якщо є помилки — виправляємо, запускаємо ще раз.

## 2️⃣ 🧠 Статичний аналіз
```Bash
composer analyse
```
* ✅ Якщо PHPStan не лається — добре.
* ❌ Інакше виправляємо всі зауваження — аж поки аналіз пройде без помилок.

## 3️⃣ 🧬 Аналіз оновлень коду (Rector Dry-Run)
```Bash
composer rector:dry
```
* ✅ Якщо пропозицій немає — переходимо далі.
* ⚠ Якщо є пропозиції, і вони ок — виконуємо:
```Bash
composer rector
```
* ❌ Або вносимо зміни вручну → і ще раз перевіряємо rector:dry.

## 4️⃣ 🎨 Перевірка форматування (Pint)
```Bash
composer pint-test
```
* ✅ Якщо все красиво — клас!
* ⚠ Якщо Pint пропонує зміни, і вони підходять — просто:
```Bash
composer pint
```
* ❌ Якщо не підходять — виправляємо вручну, і повторюємо pint-test.

## 5️⃣ 🧪 Тестування
```Bash
composer test
```
* ✅ Якщо всі тести проходять — готово до коміту чи мерджу!
* ❌ Якщо ні — фіксимо до зеленої галочки.

>✅ Якщо всі перевірки пройдено — роби коміт або створюй merge request з чистою совістю.

>🧘‍♂️ Бо чистий код — спокійний розробник.
